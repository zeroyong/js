# 📚 书单上传工具 - PyQt6版本

一个美观的桌面应用程序，用于上传书单JSON文件并获取直链。

## ✨ 功能特点

- 🎨 **现代化界面**：使用PyQt6构建的美观界面
- 📁 **拖拽支持**：支持拖拽JSON文件到程序窗口
- 📖 **书籍预览**：自动解析并显示书籍信息
- 📊 **实时进度**：显示上传进度和状态
- 📋 **历史记录**：保存最近10次上传记录
- 🔗 **一键复制**：自动复制直链到剪贴板
- 🎯 **智能验证**：自动验证JSON文件格式

## 🚀 安装和运行

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 运行程序

```bash
python book_uploader_qt.py
```

## 📖 使用说明

### 选择文件
- **拖拽方式**：直接将JSON文件拖拽到程序窗口的拖拽区域
- **点击选择**：点击"选择文件"按钮，在文件对话框中选择JSON文件

### 查看书籍信息
- 选择文件后，程序会自动解析JSON文件
- 在右侧面板显示书籍列表，包含书名、作者和简介
- 支持多本书籍的批量显示

### 上传文件
- 点击"🚀 开始上传"按钮开始上传
- 程序会显示实时上传进度
- 上传成功后自动复制直链到剪贴板

### 复制直链
- 上传成功后，可以点击"📋 复制直链"按钮重新复制
- 历史记录中也会保存之前的直链

## 🎨 界面特色

- **渐变背景**：使用现代化的渐变色彩
- **圆角设计**：所有组件都采用圆角设计
- **悬停效果**：鼠标悬停时的动态效果
- **响应式布局**：支持窗口大小调整
- **分割面板**：左右分栏布局，信息展示更清晰

## 📁 文件结构

```
├── book_uploader_qt.py    # PyQt6主程序
├── requirements.txt       # 依赖包列表
├── README_PyQt6.md       # 说明文档
├── test_books.json       # 测试用JSON文件
└── novelJson.js          # 浏览器脚本
```

## 🔧 技术特点

- **多线程上传**：使用QThread避免界面卡顿
- **信号槽机制**：PyQt6的现代化事件处理
- **样式表**：使用QSS实现美观的界面样式
- **拖拽支持**：实现文件拖拽功能
- **错误处理**：完善的异常处理和用户提示

## 🎯 与Tkinter版本对比

| 特性 | PyQt6版本 | Tkinter版本 |
|------|-----------|-------------|
| 界面美观度 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |
| 功能丰富度 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| 拖拽支持 | ✅ | ❌ |
| 书籍预览 | ✅ | ❌ |
| 历史记录 | ✅ | ❌ |
| 安装复杂度 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 文件大小 | 较大 | 较小 |

## 🐛 常见问题

### Q: 安装PyQt6失败怎么办？
A: 可以尝试使用以下命令：
```bash
pip install PyQt6 --user
```

### Q: 程序启动很慢？
A: 首次启动PyQt6需要加载较多资源，后续启动会更快。

### Q: 拖拽功能不工作？
A: 确保拖拽的是JSON文件，其他格式文件会被拒绝。

## 📝 更新日志

- **v1.0** - 初始版本，支持基本的文件上传功能
- **v1.1** - 添加拖拽支持和书籍预览
- **v1.2** - 优化界面样式，添加历史记录功能

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## �� 许可证

MIT License 