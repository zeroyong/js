# 📚 书单管理工具

这是一个完整的书单管理系统，包含浏览器脚本和Python桌面应用。

## 🎯 功能特点

### 浏览器脚本 (novelJson.js)
- ✅ 在书籍详情页添加"添加到书单"按钮
- ✅ 自动提取书籍信息（书名、作者、简介、封面）
- ✅ 悬浮显示书单列表，包含书籍数量
- ✅ 本地存储，支持删除书籍
- ✅ 一键导出为JSON文件

### Python桌面应用
#### 版本1：Tkinter版本 (book_uploader.py)
- ✅ 自动扫描当前目录的JSON文件
- ✅ 显示文件信息（大小、修改时间、书籍数量）
- ✅ 上传到直链服务，获取分享链接
- ✅ 进度条显示上传状态
- ✅ 自动复制直链到剪贴板

#### 版本2：PyQt6版本 (book_uploader_qt.py) ⭐ **推荐**
- ✅ **拖拽文件支持**：直接拖拽JSON文件到应用
- ✅ **自动识别书籍**：选择文件后自动显示书籍信息
- ✅ **现代化界面**：美观的图形界面设计
- ✅ **实时进度**：详细的上传进度显示
- ✅ **历史记录**：保存最近10次上传记录
- ✅ **一键复制**：直链自动复制到剪贴板
- ✅ **多线程上传**：不会阻塞界面

## 🚀 使用流程

### 1. 安装浏览器脚本
1. 安装油猴插件 (Tampermonkey)
2. 创建新脚本，复制 `novelJson.js` 的内容
3. 保存并启用脚本
4. 访问 tuishujun.com 的书籍详情页

### 2. 添加书籍到书单
1. 在书籍详情页，鼠标悬浮右上角的"📚 我的书单"按钮
2. 点击"📖 添加到书单"按钮
3. 书籍会自动添加到书单中

### 3. 导出书单
1. 悬浮在"📚 我的书单"按钮上查看书单
2. 点击"📤 导出"按钮
3. JSON文件会自动下载到本地

### 4. 上传获取直链

#### 使用PyQt6版本（推荐）：
```bash
# 安装依赖
pip install -r requirements_qt.txt

# 运行应用
python book_uploader_qt.py
```

**使用方法：**
1. 启动应用后，直接将JSON文件拖拽到拖拽区域
2. 或者点击"选择文件"按钮选择JSON文件
3. 应用会自动识别并显示书籍信息
4. 点击"🚀 开始上传"按钮
5. 等待上传完成，直链会自动复制到剪贴板

#### 使用Tkinter版本：
```bash
# 安装依赖
pip install -r requirements.txt

# 运行应用
python book_uploader.py
```

## 📋 系统要求

### 浏览器脚本
- 支持油猴插件的浏览器（Chrome、Firefox、Edge等）
- 访问 https://tuishujun.com/books/* 页面

### Python应用
- Python 3.6+
- 依赖包：
  - PyQt6 (图形界面) - 仅PyQt6版本需要
  - requests (网络请求)
  - pyperclip (剪贴板操作)

## 🔧 安装依赖

### PyQt6版本（推荐）：
```bash
pip install -r requirements_qt.txt
```

### Tkinter版本：
```bash
pip install -r requirements.txt
```

## 📁 文件结构

```
├── novelJson.js              # 浏览器脚本
├── book_uploader.py          # Tkinter版本Python应用
├── book_uploader_qt.py       # PyQt6版本Python应用 ⭐
├── requirements.txt          # Tkinter版本依赖
├── requirements_qt.txt       # PyQt6版本依赖
└── README.md                # 说明文档
```

## 🎨 界面预览

### 浏览器界面
- 右上角显示两个按钮："📚 我的书单" 和 "📖 添加到书单"
- 悬浮显示书单列表，包含书籍封面、信息
- 支持删除书籍和查看当前书籍

### PyQt6应用界面 ⭐
- **拖拽区域**：支持直接拖拽JSON文件
- **文件信息**：显示选择的文件信息
- **书籍列表**：自动识别并显示书籍详情
- **上传进度**：实时显示上传状态
- **历史记录**：保存最近的上传记录
- **现代化设计**：美观的界面和交互

### Tkinter应用界面
- 文件选择区域
- JSON文件列表（显示文件名、大小、时间、书籍数量）
- 进度条显示上传状态
- 结果显示区域

## 🔗 技术实现

### 浏览器脚本
- 使用原生JavaScript
- localStorage本地存储
- DOM操作和事件处理
- 文件下载功能

### PyQt6应用 ⭐
- PyQt6现代化图形界面
- 拖拽文件支持
- 多线程上传处理
- 实时进度更新
- 历史记录管理

### Tkinter应用
- tkinter图形界面
- requests网络请求
- threading多线程处理
- pyperclip剪贴板操作

## 🆚 版本对比

| 功能 | Tkinter版本 | PyQt6版本 |
|------|-------------|-----------|
| 拖拽文件 | ❌ | ✅ |
| 自动识别书籍 | ❌ | ✅ |
| 现代化界面 | ❌ | ✅ |
| 历史记录 | ❌ | ✅ |
| 实时进度 | ✅ | ✅ |
| 多线程上传 | ✅ | ✅ |
| 安装复杂度 | 简单 | 中等 |

## 🐛 常见问题

### Q: 浏览器脚本不工作？
A: 确保已安装油猴插件，脚本已启用，并且访问的是正确的网站页面。

### Q: PyQt6应用无法运行？
A: 检查Python版本和依赖包是否正确安装。如果安装PyQt6有问题，可以使用Tkinter版本。

### Q: 拖拽文件不工作？
A: 确保文件是JSON格式，并且应用窗口处于活动状态。

### Q: 上传失败？
A: 检查网络连接，确保直链服务可用。

### Q: 直链无法访问？
A: 直链服务可能有访问限制，请稍后重试。

## 📝 更新日志

### v2.0.0 - PyQt6版本
- 新增PyQt6版本，支持拖拽文件
- 自动识别书籍信息
- 现代化界面设计
- 历史记录功能
- 更好的用户体验

### v1.0.0 - 初始版本
- 支持基本的书单管理功能
- 支持本地导出和网络上传
- Tkinter版本桌面应用

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个工具！

## �� 许可证

MIT License 